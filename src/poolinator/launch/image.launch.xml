<launch>
    <arg name='rviz_config' default='$(find-pkg-share poolinator)/config/default.rviz' description="Rviz configuration file."/>
    
    <include file='$(find-pkg-share poolinator)/launch/rs_launch.py' >
    </include>
    
    <node pkg='rviz2' exec='rviz2' args="-d $(var rviz_config)"/>

    <node pkg='poolinator' exec='bridger' name='bridger'>
    </node>

    <node pkg='apriltag_ros' exec='apriltag_node'>
        <param from='$(find-pkg-share poolinator)/config/tags.yaml' />
        <remap from='image_rect' to='/camera/camera/color/image_raw'/>
        <remap from='camera_info' to='/camera/camera_info'/>
    </node>

    <node pkg='poolinator' exec='img_proc' name='img_proc' output='screen'>
        <remap from='rgb_image' to='/camera/camera/color/image_raw' />
        <remap from='depth_image' to='/camera/camera/depth/image_rect_raw' />
    </node>

</launch>
